package gen_test

import (
	"fmt"
	"github.com/0x51-dev/upeg/abnf/gen"
)

func Example_externalDependencies() {
	g := gen.Generator{
		PackageName: "external",
		ExternalDependencies: map[string]gen.ExternalDependency{
			"alpha": {
				Name: "a",
				Path: "example.com/a",
			},
			"alphaNum": {
				Name: "an",
				Path: "example.com/an",
			},
			"HEXDIG": {
				Name: "hd",
				Path: "example.com/hd",
			},
		},
	}
	raw, _ := g.GenerateOperators([]rune("grammar = alpha alphaNum HEXDIG\n"))
	fmt.Println(raw)
	// Output:
	// // DO NOT EDIT: This file is autogenerated by https://github.com/0x51-dev/upeg.
	// package external
	//
	// import (
	//     "example.com/a"
	//     "example.com/an"
	//     "example.com/hd"
	//     "github.com/0x51-dev/upeg/parser/op"
	// )
	//
	// var (
	//     Grammar = op.Capture{Name: "Grammar", Value: op.And{a.Alpha, an.AlphaNum, hd.HEXDIG}}
	// )
}
